<!doctype html>



  


<html class="theme-next mist use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css">


  <meta name="keywords" content="System Design,">








  <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico?v=5.1.0">






<meta name="description" content="System Design02 Scale From Zero To Millions Of UsersRelational databases are also called a relational database management system (RDBMS) or SQL database. The most popular ones are MySQL, Oracle databa">
<meta name="keywords" content="System Design">
<meta property="og:type" content="article">
<meta property="og:title" content="System Design Interview">
<meta property="og:url" content="https://yanzhudd.github.io/p/3603416941.html">
<meta property="og:site_name" content="Kamfal&#39;s Blog">
<meta property="og:description" content="System Design02 Scale From Zero To Millions Of UsersRelational databases are also called a relational database management system (RDBMS) or SQL database. The most popular ones are MySQL, Oracle databa">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2023-11-27T16:23:04.262Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="System Design Interview">
<meta name="twitter:description" content="System Design02 Scale From Zero To Millions Of UsersRelational databases are also called a relational database management system (RDBMS) or SQL database. The most popular ones are MySQL, Oracle databa">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"right","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://yanzhudd.github.io/p/3603416941.html">





  <title> System Design Interview | Kamfal's Blog </title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  














  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container one-collumn sidebar-position-right page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Kamfal's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocapitalize="off" autocomplete="off" autocorrect="off" placeholder="Searching..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://yanzhudd.github.io/p/3603416941.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yanzhudd">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kamfal's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                System Design Interview
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2023-11-02T22:54:57+08:00">
                2023-11-02
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="System-Design"><a href="#System-Design" class="headerlink" title="System Design"></a>System Design</h2><h3 id="02-Scale-From-Zero-To-Millions-Of-Users"><a href="#02-Scale-From-Zero-To-Millions-Of-Users" class="headerlink" title="02 Scale From Zero To Millions Of Users"></a>02 Scale From Zero To Millions Of Users</h3><p>Relational databases are also called a relational database management system (RDBMS) or SQL database. The most popular ones are MySQL, Oracle database, PostgreSQL, etc. Relational databases represent and store data in tables and rows. You can perform join operations using SQL across different database tables.</p>
<p>Non-Relational databases are also called NoSQL databases. Popular ones are CouchDB, Neo4j, Cassandra, HBase, Amazon DynamoDB, etc. [2]. These databases are grouped into four categories: key-value stores, graph stores, column stores, and document stores. Join operations are generally not supported in non-relational databases.</p>
<p>For most developers, relational databases are the best option because they have been around for over 40 years and historically, they have worked well. However, if relational databases are not suitable for your specific use cases, it is critical to explore beyond relational databases. Non-relational databases might be the right choice if:</p>
<ul>
<li><p>Your application requires super-low latency.</p>
</li>
<li><p>Your data are unstructured, or you do not have any relational data.</p>
</li>
<li><p>You only need to serialize and deserialize data (JSON, XML, YAML, etc.).</p>
</li>
<li><p>You need to store a massive amount of data.</p>
</li>
</ul>
<p>Vertical scaling, referred to as “scale up”, means the process of adding more power (CPU, RAM, etc.) to your servers. Horizontal scaling, referred to as “scale-out”, allows you to scale by adding more servers into your pool of resources.</p>
<h3 id="03-Back-of-the-envelope-Estimation"><a href="#03-Back-of-the-envelope-Estimation" class="headerlink" title="03 Back-of-the-envelope Estimation"></a>03 Back-of-the-envelope Estimation</h3><h4 id="Power-of-two"><a href="#Power-of-two" class="headerlink" title="Power of two"></a>Power of two</h4><p>Although data volume can become enormous when dealing with distributed systems, calculation all boils down to the basics. To obtain correct calculations, it is critical to know the data volume unit using the power of 2. A byte is a sequence of 8 bits. An ASCII character uses one byte of memory (8 bits). Below is a table explaining the data volume unit.</p>
<table>
<thead>
<tr>
<th align="left">Power</th>
<th align="left">Approximate value</th>
<th align="left">Full name</th>
<th align="left">Short name</th>
</tr>
</thead>
<tbody><tr>
<td align="left">10</td>
<td align="left">1 Thousand</td>
<td align="left">1 Kilobyte</td>
<td align="left">1 KB</td>
</tr>
<tr>
<td align="left">20</td>
<td align="left">1 Million</td>
<td align="left">1 Megabyte</td>
<td align="left">1 MB</td>
</tr>
<tr>
<td align="left">30</td>
<td align="left">1 Billion</td>
<td align="left">1 Gigabyte</td>
<td align="left">1 GB</td>
</tr>
<tr>
<td align="left">40</td>
<td align="left">1 Trillion</td>
<td align="left">1 Terabyte</td>
<td align="left">1 TB</td>
</tr>
<tr>
<td align="left">50</td>
<td align="left">1 Quadrillion</td>
<td align="left">1 Petabyte</td>
<td align="left">1 PB</td>
</tr>
</tbody></table>
<h4 id="Latency-numbers-every-programmer-should-know"><a href="#Latency-numbers-every-programmer-should-know" class="headerlink" title="Latency numbers every programmer should know"></a>Latency numbers every programmer should know</h4><p>Dr. Dean from Google reveals the length of typical computer operations in 2010. Some numbers are outdated as computers become faster and more powerful. However, those numbers should still be able to give us an idea of the fastness and slowness of different computer operations.</p>
<table>
<thead>
<tr>
<th align="left">Operation name</th>
<th align="left">Time</th>
</tr>
</thead>
<tbody><tr>
<td align="left">L1 cache reference</td>
<td align="left">0.5 ns</td>
</tr>
<tr>
<td align="left">Branch mispredict</td>
<td align="left">5 ns</td>
</tr>
<tr>
<td align="left">L2 cache reference</td>
<td align="left">7 ns</td>
</tr>
<tr>
<td align="left">Mutex lock/unlock</td>
<td align="left">100 ns</td>
</tr>
<tr>
<td align="left">Main memory reference</td>
<td align="left">100 ns</td>
</tr>
<tr>
<td align="left">Compress 1K bytes with Zippy</td>
<td align="left">10,000 ns = 10 µs</td>
</tr>
<tr>
<td align="left">Send 2K bytes over 1 Gbps network</td>
<td align="left">20,000 ns = 20 µs</td>
</tr>
<tr>
<td align="left">Read 1 MB sequentially from memory</td>
<td align="left">250,000 ns = 250 µs</td>
</tr>
<tr>
<td align="left">Round trip within the same datacenter</td>
<td align="left">500,000 ns = 500 µs</td>
</tr>
<tr>
<td align="left">Disk seek</td>
<td align="left">10,000,000 ns = 10 ms</td>
</tr>
<tr>
<td align="left">Read 1 MB sequentially from the network</td>
<td align="left">10,000,000 ns = 10 ms</td>
</tr>
<tr>
<td align="left">Read 1 MB sequentially from disk</td>
<td align="left">30,000,000 ns = 30 ms</td>
</tr>
<tr>
<td align="left">Send packet CA (California) -&gt;Netherlands-&gt;CA</td>
<td align="left">150,000,000 ns = 150 ms</td>
</tr>
</tbody></table>
<p>Notes</p>
<p>ns = nanosecond, µs = microsecond, ms = millisecond</p>
<p>1 ns = 10^-9 seconds</p>
<p>1 µs= 10^-6 seconds = 1,000 ns</p>
<p>1 ms = 10^-3 seconds = 1,000 µs = 1,000,000 ns</p>
<p>By analyzing the numbers in Figure 1, we get the following conclusions:</p>
<ul>
<li>Memory is fast but the disk is slow.</li>
<li>Avoid disk seeks if possible.</li>
<li>Simple compression algorithms are fast.</li>
<li>Compress data before sending it over the internet if possible.</li>
<li>Data centers are usually in different regions, and it takes time to send data between them.</li>
</ul>
<h4 id="Availability-numbers"><a href="#Availability-numbers" class="headerlink" title="Availability numbers"></a>Availability numbers</h4><p>High availability is the ability of a system to be continuously operational for a desirably long period of time. High availability is measured as a percentage, with 100% means a service that has 0 downtime. Most services fall between 99% and 100%.</p>
<p>A service level agreement (SLA) is a commonly used term for service providers. This is an agreement between you (the service provider) and your customer, and this agreement formally defines the level of uptime your service will deliver. Cloud providers Amazon [4], Google [5] and Microsoft [6] set their SLAs at 99.9% or above. Uptime is traditionally measured in nines. The more the nines, the better.</p>
<h4 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h4><ul>
<li>Rounding and Approximation. It is difficult to perform complicated math operations during the interview. For example, what is the result of “99987 / 9.1”? There is no need to spend valuable time to solve complicated math problems. Precision is not expected. Use round numbers and approximation to your advantage. The division question can be simplified as follows: “100,000 / 10”.</li>
<li>Write down your assumptions. It is a good idea to write down your assumptions to be referenced later.</li>
<li>Label your units. When you write down “5”, does it mean 5 KB or 5 MB? You might confuse yourself with this. Write down the units because “5 MB” helps to remove ambiguity.</li>
<li>Commonly asked back-of-the-envelope estimations: QPS, peak QPS, storage, cache, number of servers, etc. You can practice these calculations when preparing for an interview. Practice makes perfect.</li>
</ul>
<h3 id="04-A-Framework-For-System-Design-Interviews"><a href="#04-A-Framework-For-System-Design-Interviews" class="headerlink" title="04 A Framework For System Design Interviews"></a>04 A Framework For System Design Interviews</h3><h4 id="A-4-step-process-for-effective-system-design-interview"><a href="#A-4-step-process-for-effective-system-design-interview" class="headerlink" title="A 4-step process for effective system design interview"></a>A 4-step process for effective system design interview</h4><h5 id="Step-1-Understand-the-problem-and-establish-design-scope"><a href="#Step-1-Understand-the-problem-and-establish-design-scope" class="headerlink" title="Step 1 - Understand the problem and establish design scope"></a>Step 1 - Understand the problem and establish design scope</h5><p>What kind of questions to ask? Ask questions to understand the exact requirements. Here is a list of questions to help you get started:</p>
<ul>
<li><p>What specific features are we going to build?</p>
</li>
<li><p>How many users does the product have?</p>
</li>
<li><p>How fast does the company anticipate to scale up? What are the anticipated scales in 3 months, 6 months, and a year?</p>
</li>
<li><p>What is the company’s technology stack? What existing services you might leverage to simplify the design?</p>
</li>
</ul>
<h5 id="Step-2-Propose-high-level-design-and-get-buy-in"><a href="#Step-2-Propose-high-level-design-and-get-buy-in" class="headerlink" title="Step 2 - Propose high-level design and get buy-in"></a>Step 2 - Propose high-level design and get buy-in</h5><p>In this step, we aim to develop a high-level design and reach an agreement with the interviewer on the design. It is a great idea to collaborate with the interviewer during the process.</p>
<ul>
<li><p>Come up with an initial blueprint for the design. Ask for feedback. Treat your interviewer as a teammate and work together. Many good interviewers love to talk and get involved.</p>
</li>
<li><p>Draw box diagrams with key components on the whiteboard or paper. This might include clients (mobile/web), APIs, web servers, data stores, cache, CDN, message queue, etc.</p>
</li>
<li><p>Do back-of-the-envelope calculations to evaluate if your blueprint fits the scale constraints. Think out loud. Communicate with your interviewer if back-of-the-envelope is necessary before diving into it.</p>
</li>
</ul>
<h5 id="Step-3-Design-deep-dive"><a href="#Step-3-Design-deep-dive" class="headerlink" title="Step 3 - Design deep dive"></a>Step 3 - Design deep dive</h5><p>You shall work with the interviewer to identify and prioritize components in the architecture. It is worth stressing that every interview is different. Sometimes, the interviewer may give off hints that she likes focusing on high-level design. Sometimes, for a senior candidate interview, the discussion could be on the system performance characteristics, likely focusing on the bottlenecks and resource estimations. In most cases, the interviewer may want you to dig into details of some system components. For URL shortener, it is interesting to dive into the hash function design that converts a long URL to a short one. For a chat system, how to reduce latency and how to support online/offline status are two interesting topics.</p>
<h5 id="Step-4-Wrap-up"><a href="#Step-4-Wrap-up" class="headerlink" title="Step 4 - Wrap up"></a>Step 4 - Wrap up</h5><p>In this final step, the interviewer might ask you a few follow-up questions or give you the freedom to discuss other additional points. Here are a few directions to follow:</p>
<ul>
<li><p>The interviewer might want you to identify the system bottlenecks and discuss potential improvements. Never say your design is perfect and nothing can be improved. There is always something to improve upon. This is a great opportunity to show your critical thinking and leave a good final impression.</p>
</li>
<li><p>It could be useful to give the interviewer a recap of your design. This is particularly important if you suggested a few solutions. Refreshing your interviewer’s memory can be helpful after a long session.</p>
</li>
<li><p>Error cases (server failure, network loss, etc.) are interesting to talk about.</p>
</li>
<li><p>Operation issues are worth mentioning. How do you monitor metrics and error logs? How to roll out the system?</p>
</li>
<li><p>How to handle the next scale curve is also an interesting topic. For example, if your current design supports 1 million users, what changes do you need to make to support 10 million users?</p>
</li>
<li><p>Propose other refinements you need if you had more time.</p>
</li>
</ul>
<p>To wrap up, we summarize a list of the Dos and Don’ts.</p>
<p><strong>Dos</strong></p>
<ul>
<li><p>Always ask for clarification. Do not assume your assumption is correct.</p>
</li>
<li><p>Understand the requirements of the problem.</p>
</li>
<li><p>There is neither the right answer nor the best answer. A solution designed to solve the problems of a young startup is different from that of an established company with millions of users. Make sure you understand the requirements.</p>
</li>
<li><p>Let the interviewer know what you are thinking. Communicate with your interview.</p>
</li>
<li><p>Suggest multiple approaches if possible.</p>
</li>
<li><p>Once you agree with your interviewer on the blueprint, go into details on each component. Design the most critical components first.</p>
</li>
<li><p>Bounce ideas off the interviewer. A good interviewer works with you as a teammate.</p>
</li>
<li><p>Never give up.</p>
</li>
</ul>
<p><strong>Don’ts</strong></p>
<ul>
<li><p>Don’t be unprepared for typical interview questions.</p>
</li>
<li><p>Don’t jump into a solution without clarifying the requirements and assumptions.</p>
</li>
<li><p>Don’t go into too much detail on a single component in the beginning. Give the high-level design first then drills down.</p>
</li>
<li><p>If you get stuck, don’t hesitate to ask for hints.</p>
</li>
<li><p>Again, communicate. Don’t think in silence.</p>
</li>
<li><p>Don’t think your interview is done once you give the design. You are not done until your interviewer says you are done. Ask for feedback early and often.</p>
</li>
</ul>
<h5 id="Time-allocation-on-each-step"><a href="#Time-allocation-on-each-step" class="headerlink" title="Time allocation on each step"></a>Time allocation on each step</h5><p>System design interview questions are usually very broad, and 45 minutes or an hour is not enough to cover the entire design. Time management is essential. How much time should you spend on each step? The following is a very rough guide on distributing your time in a 45-minute interview session. Please remember this is a rough estimate, and the actual time distribution depends on the scope of the problem and the requirements from the interviewer.</p>
<p>Step 1 Understand the problem and establish design scope: 3 - 10 minutes</p>
<p>Step 2 Propose high-level design and get buy-in: 10 - 15 minutes</p>
<p>Step 3 Design deep dive: 10 - 25 minutes</p>
<p>Step 4 Wrap: 3 - 5 minutes</p>
<h3 id="05-Design-A-Rate-Limiter"><a href="#05-Design-A-Rate-Limiter" class="headerlink" title="05 Design A Rate Limiter"></a>05 Design A Rate Limiter</h3>
      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/System-Design/" rel="tag"># System Design</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/p/287636738.html" rel="next" title="Problems TODO">
                <i class="fa fa-chevron-left"></i> Problems TODO
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>

          
          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="yanzhudd">
          <p class="site-author-name" itemprop="name">yanzhudd</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">29</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#System-Design"><span class="nav-number">1.</span> <span class="nav-text">System Design</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#02-Scale-From-Zero-To-Millions-Of-Users"><span class="nav-number">1.1.</span> <span class="nav-text">02 Scale From Zero To Millions Of Users</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#03-Back-of-the-envelope-Estimation"><span class="nav-number">1.2.</span> <span class="nav-text">03 Back-of-the-envelope Estimation</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Power-of-two"><span class="nav-number">1.2.1.</span> <span class="nav-text">Power of two</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Latency-numbers-every-programmer-should-know"><span class="nav-number">1.2.2.</span> <span class="nav-text">Latency numbers every programmer should know</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Availability-numbers"><span class="nav-number">1.2.3.</span> <span class="nav-text">Availability numbers</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Tips"><span class="nav-number">1.2.4.</span> <span class="nav-text">Tips</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#04-A-Framework-For-System-Design-Interviews"><span class="nav-number">1.3.</span> <span class="nav-text">04 A Framework For System Design Interviews</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#A-4-step-process-for-effective-system-design-interview"><span class="nav-number">1.3.1.</span> <span class="nav-text">A 4-step process for effective system design interview</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Step-1-Understand-the-problem-and-establish-design-scope"><span class="nav-number">1.3.1.1.</span> <span class="nav-text">Step 1 - Understand the problem and establish design scope</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Step-2-Propose-high-level-design-and-get-buy-in"><span class="nav-number">1.3.1.2.</span> <span class="nav-text">Step 2 - Propose high-level design and get buy-in</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Step-3-Design-deep-dive"><span class="nav-number">1.3.1.3.</span> <span class="nav-text">Step 3 - Design deep dive</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Step-4-Wrap-up"><span class="nav-number">1.3.1.4.</span> <span class="nav-text">Step 4 - Wrap up</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Time-allocation-on-each-step"><span class="nav-number">1.3.1.5.</span> <span class="nav-text">Time allocation on each step</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#05-Design-A-Rate-Limiter"><span class="nav-number">1.4.</span> <span class="nav-text">05 Design A Rate Limiter</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy;  2016 - 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">yanzhudd</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    
    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  





  





  



  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="local-search-pop-overlay">').css('overflow', 'hidden');
      $('.popup').toggle();
    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var matchcounts = 0;
            var str='<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length > 1) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var content_index = [];
                var data_title = data.title.trim().toLowerCase();
                var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                var data_url = decodeURIComponent(data.url);
                var index_title = -1;
                var index_content = -1;
                var first_occur = -1;
                // only match artiles with not empty titles and contents
                if(data_title != '') {
                  keywords.forEach(function(keyword, i) {
                    index_title = data_title.indexOf(keyword);
                    index_content = data_content.indexOf(keyword);
                    if( index_title >= 0 || index_content >= 0 ){
                      isMatch = true;
                      if (i == 0) {
                        first_occur = index_content;
                      }
                    }

                  });
                }
                // show search results
                if (isMatch) {
                  matchcounts += 1;
                  str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                  var content = data.content.trim().replace(/<[^>]+>/g,"");
                  if (first_occur >= 0) {
                    // cut out 100 characters
                    var start = first_occur - 20;
                    var end = first_occur + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if(start == 0){
                      end = 50;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    var match_content = content.substring(start, end);
                    // highlight all keywords
                    keywords.forEach(function(keyword){
                      var regS = new RegExp(keyword, "gi");
                      match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                    });

                    str += "<p class=\"search-result\">" + match_content +"...</p>"
                  }
                  str += "</li>";
                }
              })};
            str += "</ul>";
            if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
            if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
            $resultContent.innerHTML = str;
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script><!-- hexo-inject:begin --><!-- hexo-inject:end -->


  

  

  

  


  

</body>
</html>
